{"version":3,"file":"handlers-B1n-pcRR.js","sources":["../../src/js/constants.js","../../src/js/products-api.js","../../src/js/refs.js","../../src/js/render-function.js","../../src/js/storage.js","../../src/js/helpers.js","../../src/js/header.js","../../src/js/modal.js","../../src/js/handlers.js"],"sourcesContent":["export const API_BASE_URL = 'https://dummyjson.com';\nexport const API_ENDPOINTS = {\n  CATEGORIES: 'products/category-list',\n  PRODUCTS: 'products',\n  CATEGORY: 'products/category/',\n  SEARCH: 'products/search',\n};\nexport const PER_PAGE = 12;\nexport const STATE = {\n  QUERY: 'All',\n  PAGE: 1,\n  FLAG: 'All', //\"All\", \"Category\", \"Search\"\n  ID: 1,\n};\nexport const COUNTER = {\n  cart: 0,\n  wishlist: 0,\n};\nexport const THEME = {\n  light: 'light',\n  dark: 'dark',\n};\n","import axios from 'axios';\nimport { API_BASE_URL, API_ENDPOINTS, PER_PAGE, STATE } from './constants';\n\naxios.defaults.baseURL = API_BASE_URL;\n\nexport async function getCategories() {\n  const response = await axios.get(API_ENDPOINTS.CATEGORIES);\n  return response.data;\n}\n\nexport async function getAllProducts() {\n  const skip = (STATE.PAGE - 1) * PER_PAGE;\n  const response = await axios.get(\n    `${API_ENDPOINTS.PRODUCTS}?limit=${PER_PAGE}&skip=${skip}`\n  );\n  return response.data;\n}\n\nexport async function getProductsByCategory() {\n  const skip = (STATE.PAGE - 1) * PER_PAGE;\n  const response = await axios.get(\n    `${API_ENDPOINTS.CATEGORY}${STATE.QUERY}?limit=${PER_PAGE}&skip=${skip}`\n  );\n  return response.data;\n}\n\nexport async function getProductsBySearch() {\n  const skip = (STATE.PAGE - 1) * PER_PAGE;\n  const response = await axios.get(\n    `${API_ENDPOINTS.SEARCH}?q=${STATE.QUERY}&limit=${PER_PAGE}&skip=${skip}`\n  );\n  return response.data;\n}\n\nexport async function getProductById(id) {\n  const response = await axios.get(`${API_ENDPOINTS.PRODUCTS}/${id}`);\n  return response.data;\n}\n","export const refs = {\n  categoriesList: document.querySelector('ul.categories'),\n  productsList: document.querySelector('ul.products'),\n  notFoundBlock: document.querySelector('div.not-found'),\n  modal: document.querySelector('div.modal'),\n  modalProduct: document.querySelector('div.modal-product'),\n  closeModalBtn: document.querySelector('.modal__close-btn'),\n  loadMoreBtn: document.querySelector('.load-more-btn'),\n  searchForm: document.querySelector('.search-form'),\n  clearSearchFormBtn: document.querySelector('.search-form__btn-clear'),\n  addToCardBtn: document.querySelector('.modal-product__btn--cart'),\n  addToWishlistBtn: document.querySelector('.modal-product__btn--wishlist'),\n  cartCounter: document.querySelector('[data-cart-count]'),\n  wishlistCounter: document.querySelector('[data-wishlist-count]'),\n  themeToggleBtn: document.querySelector('.theme-toggle-btn'),\n};\n","import { refs } from './refs';\n\nexport function renderCategories(categories) {\n  const categoriesList = ['All', ...categories];\n  const markup = categoriesList\n    .map(\n      item =>\n        `<li class=\"categories__item\">\n      <button class=\"categories__btn\" type=\"button\">${item}</button>\n    </li>`\n    )\n    .join('');\n  refs.categoriesList.innerHTML = markup;\n}\n\nexport function renderProducts(products) {\n  const markup = products\n    .map(\n      ({\n        id,\n        thumbnail,\n        description,\n        title,\n        brand,\n        category,\n        price,\n      }) => `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${description}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: </span>${\n      brand || 'no brand'\n    }</p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>`\n    )\n    .join('');\n  refs.productsList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function renderProduct(product) {\n  const {\n    id,\n    images,\n    title,\n    description,\n    tags,\n    price,\n    shippingInformation,\n    returnPolicy,\n  } = product;\n  const markup = `<img class=\"modal-product__img\" src=\"${images[0]}\" alt=\"${title}\" />\n      <div class=\"modal-product__content\" data-id=\"${id}\">\n        <p class=\"modal-product__title\">${title}</p>\n        <ul class=\"modal-product__tags\">${tags}</ul>\n        <p class=\"modal-product__description\">${description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping: ${shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy: ${returnPolicy}</p>\n        <p class=\"modal-product__price\">Price: ${price}$</p>\n      </div>`;\n  refs.modalProduct.innerHTML = markup;\n}\n","import { STATE, THEME } from './constants';\n\nexport const STORAGE_KEY = {\n  cart: 'cart',\n  wishlist: 'wishlist',\n  theme: 'theme',\n};\n\nexport function getThemeFromLS() {\n  try {\n    const data = localStorage.getItem(STORAGE_KEY.theme);\n    return data ? JSON.parse(data) : THEME.light;\n  } catch (err) {\n    console.error(`Error getting theme from LocalStorage: ${err}`);\n    return THEME.light;\n  }\n}\n\nexport function saveToLS(key, value) {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch (err) {\n    console.error(`Error saving to LocalStorage: ${err}`);\n  }\n}\n\nexport function loadFromLS(key) {\n  try {\n    const data = localStorage.getItem(key);\n    return data ? JSON.parse(data) : [];\n  } catch (err) {\n    console.error(`Error loading from LocalStorage: ${err}`);\n    return [];\n  }\n}\n\nexport function isProductInLS(key) {\n  const data = loadFromLS(key);\n  return data.some(productId => productId === STATE.ID);\n}\n\nexport function addProductToLS(key) {\n  const data = loadFromLS(key);\n  const isInLS = data.some(productId => productId === STATE.ID);\n  if (isInLS) {\n    return;\n  }\n  data.push(STATE.ID);\n  saveToLS(key, data);\n}\n\nexport function removeProductFromLS(key) {\n  const data = loadFromLS(key);\n  const productIndex = data.findIndex(productId => productId === STATE.ID);\n  if (productIndex === -1) {\n    return;\n  }\n  const newData = data.filter(index => index !== data[productIndex]);\n  saveToLS(key, newData);\n}\n","import { PER_PAGE, STATE } from './constants';\nimport {\n  getAllProducts,\n  getProductById,\n  getProductsByCategory,\n  getProductsBySearch,\n} from './products-api';\nimport { refs } from './refs';\nimport { renderProducts } from './render-function';\nimport { loadFromLS } from './storage';\n\nexport async function loadProducts() {\n  try {\n    let getProducts = getProductsFetcher();\n    const { products, total } = await getProducts();\n    if (products.length === 0) {\n      showNotFoundBlock();\n    } else {\n      renderProducts(products);\n      canLoadMore(total);\n    }\n  } catch (err) {\n    console.error(`Get products error: ${err}`);\n  }\n}\n\nfunction getProductsFetcher() {\n  let productsFetcher;\n  switch (STATE.FLAG) {\n    case 'All':\n      productsFetcher = getAllProducts;\n      break;\n    case 'Category':\n      productsFetcher = getProductsByCategory;\n      break;\n    case 'Search':\n      productsFetcher = getProductsBySearch;\n      break;\n  }\n  return productsFetcher;\n}\n\nexport function canLoadMore(totalItems) {\n  const totalPages = Math.ceil(totalItems / PER_PAGE);\n  if (totalPages > STATE.PAGE) {\n    refs.loadMoreBtn.classList.remove('is-hidden');\n  } else {\n    refs.loadMoreBtn.classList.add('is-hidden');\n  }\n}\n\nexport function showNotFoundBlock() {\n  refs.notFoundBlock.classList.add('not-found--visible');\n}\n\nexport function clearProductsList() {\n  refs.productsList.innerHTML = '';\n}\n\nexport function updateActiveCategory(activeEl) {\n  const oldActiveEl = document.querySelector('.categories__btn--active');\n  if (oldActiveEl) {\n    oldActiveEl.classList.remove('categories__btn--active');\n  }\n  activeEl.classList.add('categories__btn--active');\n}\n\nexport function clearActiveCategory() {\n  const oldActiveEl = document.querySelector('.categories__btn--active');\n  if (oldActiveEl) {\n    oldActiveEl.classList.remove('categories__btn--active');\n  }\n}\n\nexport function hideNotFoundBlock() {\n  refs.notFoundBlock.classList.remove('not-found--visible');\n}\n\nexport function hideLoadMore() {\n  refs.loadMoreBtn.classList.add('is-hidden');\n}\n\nexport async function loadAllProductsFromLS(key) {\n  const data = loadFromLS(key);\n  const allPromises = await Promise.allSettled(\n    data.map(id => getProductById(id))\n  );\n  const allProducts = allPromises\n    .filter(promis => promis.status === 'fulfilled')\n    .map(promis => promis.value);\n  renderProducts(allProducts);\n}\n","import { COUNTER, THEME } from './constants';\nimport { refs } from './refs';\nimport { getThemeFromLS, loadFromLS, saveToLS, STORAGE_KEY } from './storage';\n\nexport function initHeader() {\n  updateHeaderCounterCart();\n  updateHeaderCounterWishlist();\n}\n\nexport function updateHeaderCounterCart() {\n  const cartItems = loadFromLS(STORAGE_KEY.cart);\n  COUNTER.cart = cartItems.length;\n  refs.cartCounter.textContent = COUNTER.cart;\n}\n\nexport function updateHeaderCounterWishlist() {\n  const wishlistItems = loadFromLS(STORAGE_KEY.wishlist);\n  COUNTER.wishlist = wishlistItems.length;\n  refs.wishlistCounter.textContent = COUNTER.wishlist;\n}\n\nexport function toggleTheme() {\n  const theme = getThemeFromLS();\n  const newTheme = theme === THEME.light ? THEME.dark : THEME.light;\n  refs.themeToggleBtn.innerHTML = newTheme === THEME.light ? 'üåô' : '‚òÄÔ∏è';\n  document.body.dataset.theme = newTheme;\n  saveToLS(STORAGE_KEY.theme, newTheme);\n}\n","import { STATE } from './constants';\nimport { updateHeaderCounterCart, updateHeaderCounterWishlist } from './header';\nimport { refs } from './refs';\nimport {\n  addProductToLS,\n  isProductInLS,\n  removeProductFromLS,\n  STORAGE_KEY,\n} from './storage';\n\nconst BTN_TEXT = {\n  addToCart: 'Add to Cart',\n  removeFromCart: 'Remove from Cart',\n  addToWishlist: 'Add to Wishlist',\n  removeFromWishlist: 'Remove from Wishlist',\n};\n\nrefs.addToCardBtn.addEventListener('click', handleCartBtnClick);\nrefs.addToWishlistBtn.addEventListener('click', handleWishlistBtnClick);\n\nexport function openModal() {\n  refs.modal.classList.add('modal--is-open');\n  document.body.style.overflow = 'hidden';\n  window.addEventListener('keydown', handleEscapePress);\n  refs.modal.addEventListener('click', hanleBackdroppClick);\n  STATE.ID = refs.modal.querySelector('.modal-product__content').dataset.id;\n  initCartBtn();\n  initWishlistBtn();\n}\n\nexport function closeModal() {\n  refs.modal.classList.remove('modal--is-open');\n  document.body.style.overflow = '';\n  window.removeEventListener('keydown', handleEscapePress);\n  refs.modal.removeEventListener('click', hanleBackdroppClick);\n}\n\nfunction handleCartBtnClick(e) {\n  const btnElem = e.target;\n  if (btnElem.textContent === BTN_TEXT.addToCart) {\n    addProductToLS(STORAGE_KEY.cart);\n    btnElem.textContent = BTN_TEXT.removeFromCart;\n  } else {\n    removeProductFromLS(STORAGE_KEY.cart);\n    btnElem.textContent = BTN_TEXT.addToCart;\n  }\n  updateHeaderCounterCart();\n}\n\nfunction handleWishlistBtnClick(e) {\n  const btnElem = e.target;\n  if (btnElem.textContent === BTN_TEXT.addToWishlist) {\n    addProductToLS(STORAGE_KEY.wishlist);\n    btnElem.textContent = BTN_TEXT.removeFromWishlist;\n  } else {\n    removeProductFromLS(STORAGE_KEY.wishlist);\n    btnElem.textContent = BTN_TEXT.addToWishlist;\n  }\n  updateHeaderCounterWishlist();\n}\n\nfunction handleEscapePress(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction hanleBackdroppClick(e) {\n  if (e.target === refs.modal) {\n    closeModal();\n  }\n}\n\nfunction initWishlistBtn() {\n  const inWishlist = isProductInLS(STORAGE_KEY.wishlist);\n  refs.addToWishlistBtn.textContent = inWishlist\n    ? BTN_TEXT.removeFromWishlist\n    : BTN_TEXT.addToWishlist;\n}\n\nfunction initCartBtn() {\n  const inCart = isProductInLS(STORAGE_KEY.cart);\n  refs.addToCardBtn.textContent = inCart\n    ? BTN_TEXT.removeFromCart\n    : BTN_TEXT.addToCart;\n}\n","import { STATE, THEME } from './constants';\nimport {\n  clearActiveCategory,\n  clearProductsList,\n  loadAllProductsFromLS,\n  hideLoadMore,\n  hideNotFoundBlock,\n  loadProducts,\n  updateActiveCategory,\n} from './helpers';\nimport { getCategories, getProductById } from './products-api';\nimport { openModal } from './modal';\nimport { refs } from './refs';\nimport { renderCategories, renderProduct } from './render-function';\nimport { initHeader } from './header';\nimport { STORAGE_KEY, getThemeFromLS } from './storage';\n\nexport async function initHomePage() {\n  initTheme();\n  initHeader();\n  try {\n    const categories = await getCategories();\n    renderCategories(categories);\n  } catch (err) {\n    console.error(`Get categories error: ${err}`);\n  }\n  await loadProducts();\n}\n\nexport async function initWishlistPage() {\n  initTheme();\n  initHeader();\n  loadAllProductsFromLS(STORAGE_KEY.wishlist);\n}\n\nexport async function initCartPage() {\n  initTheme();\n  initHeader();\n}\n\nexport async function handleCategoryClick(e) {\n  const btnElem = e.target.closest('.categories__btn');\n  if (!btnElem) {\n    return;\n  }\n  STATE.PAGE = 1;\n  STATE.QUERY = btnElem.textContent;\n  STATE.QUERY === 'All' ? (STATE.FLAG = 'All') : (STATE.FLAG = 'Category');\n  updateActiveCategory(btnElem);\n  clearProductsList();\n  hideNotFoundBlock();\n  hideLoadMore();\n  await loadProducts();\n}\n\nexport async function handleProductClick(e) {\n  const liElem = e.target.closest('li.products__item');\n  if (!liElem) {\n    return;\n  }\n  const id = liElem.dataset.id;\n  try {\n    const product = await getProductById(id);\n    renderProduct(product);\n  } catch (err) {\n    console.error(`Get product error: ${err}`);\n  }\n  openModal();\n}\n\nexport async function handleSearchForm(e) {\n  e.preventDefault();\n  const formData = new FormData(e.target);\n  const queryCandidate = formData.get('searchValue').trim();\n  if (!queryCandidate) {\n    alert('type something');\n    return;\n  }\n  clearActiveCategory();\n  clearProductsList();\n  hideNotFoundBlock();\n  hideLoadMore();\n  STATE.QUERY = queryCandidate;\n  STATE.PAGE = 1;\n  STATE.FLAG = 'Search';\n  loadProducts();\n}\n\nexport async function handleClearSearchForm() {\n  refs.searchForm.reset();\n  STATE.QUERY = 'All';\n  STATE.PAGE = 1;\n  STATE.FLAG = 'All';\n  clearProductsList();\n  hideNotFoundBlock();\n  clearActiveCategory();\n  await loadProducts();\n}\n\nexport async function handleLoadMore() {\n  STATE.PAGE += 1;\n  await loadProducts();\n}\n\nfunction initTheme() {\n  const theme = getThemeFromLS();\n  document.body.setAttribute('data-theme', theme);\n  document.body.dataset.theme = theme;\n  refs.themeToggleBtn.innerHTML = theme === THEME.light ? 'üåô' : '‚òÄÔ∏è';\n}\n"],"names":["API_BASE_URL","API_ENDPOINTS","PER_PAGE","STATE","COUNTER","THEME","axios","getCategories","getAllProducts","skip","getProductsByCategory","getProductsBySearch","getProductById","id","refs","renderCategories","categories","markup","item","renderProducts","products","thumbnail","description","title","brand","category","price","renderProduct","product","images","tags","shippingInformation","returnPolicy","STORAGE_KEY","getThemeFromLS","data","err","saveToLS","key","value","loadFromLS","isProductInLS","productId","addProductToLS","removeProductFromLS","productIndex","newData","index","loadProducts","getProducts","getProductsFetcher","total","showNotFoundBlock","canLoadMore","productsFetcher","totalItems","clearProductsList","updateActiveCategory","activeEl","oldActiveEl","clearActiveCategory","hideNotFoundBlock","hideLoadMore","loadAllProductsFromLS","allProducts","promis","initHeader","updateHeaderCounterCart","updateHeaderCounterWishlist","cartItems","wishlistItems","toggleTheme","newTheme","BTN_TEXT","handleCartBtnClick","handleWishlistBtnClick","openModal","handleEscapePress","hanleBackdroppClick","initCartBtn","initWishlistBtn","closeModal","e","btnElem","inWishlist","inCart","initHomePage","initTheme","initWishlistPage","initCartPage","handleCategoryClick","handleProductClick","liElem","handleSearchForm","queryCandidate","handleClearSearchForm","handleLoadMore","theme"],"mappings":"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"}