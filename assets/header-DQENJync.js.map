{"version":3,"file":"header-DQENJync.js","sources":["../../src/js/constants.js","../../src/js/refs.js","../../src/js/storage.js","../../src/js/header.js"],"sourcesContent":["export const API_BASE_URL = 'https://dummyjson.com';\nexport const API_ENDPOINTS = {\n  CATEGORIES: 'products/category-list',\n  PRODUCTS: 'products',\n  CATEGORY: 'products/category/',\n  SEARCH: 'products/search',\n};\nexport const PER_PAGE = 12;\nexport const STATE = {\n  QUERY: 'All',\n  PAGE: 1,\n  FLAG: 'All', //\"All\", \"Category\", \"Search\"\n  ID: 1,\n};\nexport const COUNTER = {\n  cart: 0,\n  wishlist: 0,\n};\nexport const THEME = {\n  light: 'light',\n  dark: 'dark',\n};\n","export const refs = {\n  categoriesList: document.querySelector('ul.categories'),\n  productsList: document.querySelector('ul.products'),\n  notFoundBlock: document.querySelector('div.not-found'),\n  modal: document.querySelector('div.modal'),\n  modalProduct: document.querySelector('div.modal-product'),\n  closeModalBtn: document.querySelector('.modal__close-btn'),\n  loadMoreBtn: document.querySelector('.load-more-btn'),\n  searchForm: document.querySelector('.search-form'),\n  clearSearchFormBtn: document.querySelector('.search-form__btn-clear'),\n  addToCardBtn: document.querySelector('.modal-product__btn--cart'),\n  addToWishlistBtn: document.querySelector('.modal-product__btn--wishlist'),\n  cartCounter: document.querySelector('[data-cart-count]'),\n  wishlistCounter: document.querySelector('[data-wishlist-count]'),\n  themeToggleBtn: document.querySelector('.theme-toggle-btn'),\n};\n","import { STATE, THEME } from './constants';\n\nexport const STORAGE_KEY = {\n  cart: 'cart',\n  wishlist: 'wishlist',\n  theme: 'theme',\n};\n\nexport function getThemeFromLS() {\n  try {\n    const data = localStorage.getItem(STORAGE_KEY.theme);\n    return data ? JSON.parse(data) : THEME.light;\n  } catch (err) {\n    console.error(`Error getting theme from LocalStorage: ${err}`);\n    return THEME.light;\n  }\n}\n\nexport function saveToLS(key, value) {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch (err) {\n    console.error(`Error saving to LocalStorage: ${err}`);\n  }\n}\n\nexport function loadFromLS(key) {\n  try {\n    const data = localStorage.getItem(key);\n    return data ? JSON.parse(data) : [];\n  } catch (err) {\n    console.error(`Error loading from LocalStorage: ${err}`);\n    return [];\n  }\n}\n\nexport function isProductInLS(key) {\n  const data = loadFromLS(key);\n  return data.some(productId => productId === STATE.ID);\n}\n\nexport function addProductToLS(key) {\n  const data = loadFromLS(key);\n  const isInLS = data.some(productId => productId === STATE.ID);\n  if (isInLS) {\n    return;\n  }\n  data.push(STATE.ID);\n  saveToLS(key, data);\n}\n\nexport function removeProductFromLS(key) {\n  const data = loadFromLS(key);\n  const productIndex = data.findIndex(productId => productId === STATE.ID);\n  if (productIndex === -1) {\n    return;\n  }\n  const newData = data.filter(index => index !== data[productIndex]);\n  saveToLS(key, newData);\n}\n","import { COUNTER, THEME } from './constants';\nimport { refs } from './refs';\nimport { getThemeFromLS, loadFromLS, saveToLS, STORAGE_KEY } from './storage';\n\nexport function initHeader() {\n  updateHeaderCounterCart();\n  updateHeaderCounterWishlist();\n}\n\nexport function updateHeaderCounterCart() {\n  const cartItems = loadFromLS(STORAGE_KEY.cart);\n  COUNTER.cart = cartItems.length;\n  refs.cartCounter.textContent = COUNTER.cart;\n}\n\nexport function updateHeaderCounterWishlist() {\n  const wishlistItems = loadFromLS(STORAGE_KEY.wishlist);\n  COUNTER.wishlist = wishlistItems.length;\n  refs.wishlistCounter.textContent = COUNTER.wishlist;\n}\n\nexport function toggleTheme() {\n  const theme = getThemeFromLS();\n  const newTheme = theme === THEME.light ? THEME.dark : THEME.light;\n  refs.themeToggleBtn.innerHTML = newTheme === THEME.light ? 'üåô' : '‚òÄÔ∏è';\n  document.body.dataset.theme = newTheme;\n  saveToLS(STORAGE_KEY.theme, newTheme);\n}\n"],"names":["API_BASE_URL","API_ENDPOINTS","PER_PAGE","STATE","COUNTER","THEME","refs","STORAGE_KEY","getThemeFromLS","data","err","saveToLS","key","value","loadFromLS","isProductInLS","productId","addProductToLS","removeProductFromLS","productIndex","newData","index","initHeader","updateHeaderCounterCart","updateHeaderCounterWishlist","cartItems","wishlistItems","toggleTheme","newTheme"],"mappings":"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"}